{"version":3,"file":"ngsf-bootstrap4-framework.umd.js","sources":["ng://@ngsf/bootstrap4-framework/lib/bootstrap4-framework.component.ts","ng://@ngsf/bootstrap4-framework/lib/bootstrap4-framework.ts","ng://@ngsf/bootstrap4-framework/lib/bootstrap4-framework.module.ts"],"sourcesContent":["import {ChangeDetectorRef, Component, Input, OnChanges, OnInit} from '@angular/core'\nimport * as _ from 'lodash'\nimport {addClasses, inArray} from '@ngsf/common'\nimport {JsonSchemaFormService} from '@ngsf/widget-library'\n\n/**\n * Bootstrap 4 framework for Angular JSON Schema Form.\n *\n */\n@Component({\n  selector: 'bootstrap-4-framework',\n  template: `\n      <div\n              [class]=\"options?.htmlClass || ''\"\n              [class.has-feedback]=\"options?.feedback && options?.isInputWidget &&\n        (formControl?.dirty || options?.feedbackOnRender)\"\n              [class.has-error]=\"options?.enableErrorState && formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)\"\n              [class.has-success]=\"options?.enableSuccessState && !formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)\">\n\n          <button *ngIf=\"showRemoveButton\"\n                  class=\"close pull-right\"\n                  type=\"button\"\n                  (click)=\"removeItem()\">\n              <span aria-hidden=\"true\">&times;</span>\n              <span class=\"sr-only\">Close</span>\n          </button>\n          <div *ngIf=\"options?.messageLocation === 'top'\">\n              <p *ngIf=\"options?.helpBlock\"\n                 class=\"help-block\"\n                 [innerHTML]=\"options?.helpBlock\"></p>\n          </div>\n\n          <label *ngIf=\"options?.title && layoutNode?.type !== 'tab'\"\n                 [attr.for]=\"'control' + layoutNode?._id\"\n                 [class]=\"options?.labelHtmlClass || ''\"\n                 [class.sr-only]=\"options?.notitle\"\n                 [innerHTML]=\"options?.title\"></label>\n          <p *ngIf=\"layoutNode?.type === 'submit' && jsf?.formOptions?.fieldsRequired\">\n              <strong class=\"text-danger\">*</strong> = required fields\n          </p>\n          <div [class.input-group]=\"options?.fieldAddonLeft || options?.fieldAddonRight\">\n        <span *ngIf=\"options?.fieldAddonLeft\"\n              class=\"input-group-addon\"\n              [innerHTML]=\"options?.fieldAddonLeft\"></span>\n\n              <select-widget-widget\n                      [layoutNode]=\"widgetLayoutNode\"\n                      [dataIndex]=\"dataIndex\"\n                      [layoutIndex]=\"layoutIndex\"></select-widget-widget>\n\n              <span *ngIf=\"options?.fieldAddonRight\"\n                    class=\"input-group-addon\"\n                    [innerHTML]=\"options?.fieldAddonRight\"></span>\n          </div>\n\n          <span *ngIf=\"options?.feedback && options?.isInputWidget &&\n          !options?.fieldAddonRight && !layoutNode.arrayItem &&\n          (formControl?.dirty || options?.feedbackOnRender)\"\n                [class.glyphicon-ok]=\"options?.enableSuccessState && !formControl?.errors\"\n                [class.glyphicon-remove]=\"options?.enableErrorState && formControl?.errors\"\n                aria-hidden=\"true\"\n                class=\"form-control-feedback glyphicon\"></span>\n          <div *ngIf=\"options?.messageLocation !== 'top'\">\n              <p *ngIf=\"options?.helpBlock\"\n                 class=\"help-block\"\n                 [innerHTML]=\"options?.helpBlock\"></p>\n          </div>\n      </div>\n\n      <div *ngIf=\"debug && debugOutput\">debug:\n          <pre>{{debugOutput}}</pre>\n      </div>\n  `,\n  styles: [`\n      :host /deep/ .list-group-item .form-control-feedback {\n          top: 40px;\n      }\n\n      :host /deep/ .checkbox,\n      :host /deep/ .radio {\n          margin-top: 0;\n          margin-bottom: 0;\n      }\n\n      :host /deep/ .checkbox-inline,\n      :host /deep/ .checkbox-inline + .checkbox-inline,\n      :host /deep/ .checkbox-inline + .radio-inline,\n      :host /deep/ .radio-inline,\n      :host /deep/ .radio-inline + .radio-inline,\n      :host /deep/ .radio-inline + .checkbox-inline {\n          margin-left: 0;\n          margin-right: 10px;\n      }\n\n      :host /deep/ .checkbox-inline:last-child,\n      :host /deep/ .radio-inline:last-child {\n          margin-right: 0;\n      }\n\n      :host /deep/ .ng-invalid.ng-touched {\n          border: 1px solid #f44336;\n      }\n  `],\n})\nexport class Bootstrap4FrameworkComponent implements OnInit, OnChanges {\n  frameworkInitialized = false\n  widgetOptions: any // Options passed to child widget\n  widgetLayoutNode: any // layoutNode passed to child widget\n  options: any // Options used in this framework\n  formControl: any = null\n  debugOutput: any = ''\n  debug: any = ''\n  parentArray: any = null\n  isOrderable = false\n  @Input() layoutNode: any\n  @Input() layoutIndex: number[]\n  @Input() dataIndex: number[]\n\n  constructor(\n    public changeDetector: ChangeDetectorRef,\n    public jsf: JsonSchemaFormService\n  ) {\n  }\n\n  get showRemoveButton(): boolean {\n    if (!this.options.removable || this.options.readonly ||\n      this.layoutNode.type === '$ref'\n    ) {\n      return false\n    }\n    if (this.layoutNode.recursiveReference) {\n      return true\n    }\n    if (!this.layoutNode.arrayItem || !this.parentArray) {\n      return false\n    }\n    // If array length <= minItems, don't allow removing any items\n    return this.parentArray.items.length - 1 <= this.parentArray.options.minItems ? false :\n      // For removable list items, allow removing any item\n      this.layoutNode.arrayItemType === 'list' ? true :\n        // For removable tuple items, only allow removing last item in list\n        this.layoutIndex[this.layoutIndex.length - 1] === this.parentArray.items.length - 2\n  }\n\n  ngOnInit() {\n    this.initializeFramework()\n    if (this.layoutNode.arrayItem && this.layoutNode.type !== '$ref') {\n      this.parentArray = this.jsf.getParentNode(this)\n      if (this.parentArray) {\n        this.isOrderable = this.layoutNode.arrayItemType === 'list' &&\n          !this.options.readonly && this.parentArray.options.orderable\n      }\n    }\n  }\n\n  ngOnChanges() {\n    if (!this.frameworkInitialized) {\n      this.initializeFramework()\n    }\n  }\n\n  initializeFramework() {\n    if (this.layoutNode) {\n      this.options = _.cloneDeep(this.layoutNode.options)\n      this.widgetLayoutNode = {\n        ...this.layoutNode,\n        options: _.cloneDeep(this.layoutNode.options)\n      }\n      this.widgetOptions = this.widgetLayoutNode.options\n      this.formControl = this.jsf.getFormControl(this)\n\n      this.options.isInputWidget = inArray(this.layoutNode.type, [\n        'button', 'checkbox', 'checkboxes-inline', 'checkboxes', 'color',\n        'date', 'datetime-local', 'datetime', 'email', 'file', 'hidden',\n        'image', 'integer', 'month', 'number', 'password', 'radio',\n        'radiobuttons', 'radios-inline', 'radios', 'range', 'reset', 'search',\n        'select', 'submit', 'tel', 'text', 'textarea', 'time', 'url', 'week'\n      ])\n\n      this.options.title = this.setTitle()\n\n      this.options.htmlClass =\n        addClasses(this.options.htmlClass, 'schema-form-' + this.layoutNode.type)\n      this.options.htmlClass =\n        this.layoutNode.type === 'array' ?\n          addClasses(this.options.htmlClass, 'list-group') :\n          this.layoutNode.arrayItem && this.layoutNode.type !== '$ref' ?\n            addClasses(this.options.htmlClass, 'list-group-item') :\n            addClasses(this.options.htmlClass, 'form-group')\n      this.widgetOptions.htmlClass = ''\n      this.options.labelHtmlClass =\n        addClasses(this.options.labelHtmlClass, 'control-label')\n      this.widgetOptions.activeClass =\n        addClasses(this.widgetOptions.activeClass, 'active')\n      this.options.fieldAddonLeft =\n        this.options.fieldAddonLeft || this.options.prepend\n      this.options.fieldAddonRight =\n        this.options.fieldAddonRight || this.options.append\n\n      // Add asterisk to titles if required\n      if (this.options.title && this.layoutNode.type !== 'tab' &&\n        !this.options.notitle && this.options.required &&\n        !this.options.title.includes('*')\n      ) {\n        this.options.title += ' <strong class=\"text-danger\">*</strong>'\n      }\n      // Set miscelaneous styles and settings for each control type\n      switch (this.layoutNode.type) {\n        // Checkbox controls\n        case 'checkbox':\n        case 'checkboxes':\n          this.widgetOptions.htmlClass = addClasses(\n            this.widgetOptions.htmlClass, 'checkbox')\n          break\n        case 'checkboxes-inline':\n          this.widgetOptions.htmlClass = addClasses(\n            this.widgetOptions.htmlClass, 'checkbox')\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\n            this.widgetOptions.itemLabelHtmlClass, 'checkbox-inline')\n          break\n        // Radio controls\n        case 'radio':\n        case 'radios':\n          this.widgetOptions.htmlClass = addClasses(\n            this.widgetOptions.htmlClass, 'radio')\n          break\n        case 'radios-inline':\n          this.widgetOptions.htmlClass = addClasses(\n            this.widgetOptions.htmlClass, 'radio')\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\n            this.widgetOptions.itemLabelHtmlClass, 'radio-inline')\n          break\n        // Button sets - checkboxbuttons and radiobuttons\n        case 'checkboxbuttons':\n        case 'radiobuttons':\n          this.widgetOptions.htmlClass = addClasses(\n            this.widgetOptions.htmlClass, 'btn-group')\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\n            this.widgetOptions.itemLabelHtmlClass, 'btn')\n          this.widgetOptions.itemLabelHtmlClass = addClasses(\n            this.widgetOptions.itemLabelHtmlClass, this.options.style || 'btn-default')\n          this.widgetOptions.fieldHtmlClass = addClasses(\n            this.widgetOptions.fieldHtmlClass, 'sr-only')\n          break\n        // Single button controls\n        case 'button':\n        case 'submit':\n          this.widgetOptions.fieldHtmlClass = addClasses(\n            this.widgetOptions.fieldHtmlClass, 'btn')\n          this.widgetOptions.fieldHtmlClass = addClasses(\n            this.widgetOptions.fieldHtmlClass, this.options.style || 'btn-info')\n          break\n        // Containers - arrays and fieldsets\n        case 'array':\n        case 'fieldset':\n        case 'section':\n        case 'conditional':\n        case 'advancedfieldset':\n        case 'authfieldset':\n        case 'selectfieldset':\n        case 'optionfieldset':\n          this.options.messageLocation = 'top'\n          break\n        case 'tabarray':\n        case 'tabs':\n          this.widgetOptions.htmlClass = addClasses(\n            this.widgetOptions.htmlClass, 'tab-content')\n          this.widgetOptions.fieldHtmlClass = addClasses(\n            this.widgetOptions.fieldHtmlClass, 'tab-pane')\n          this.widgetOptions.labelHtmlClass = addClasses(\n            this.widgetOptions.labelHtmlClass, 'nav nav-tabs')\n          break\n        // 'Add' buttons - references\n        case '$ref':\n          this.widgetOptions.fieldHtmlClass = addClasses(\n            this.widgetOptions.fieldHtmlClass, 'btn pull-right')\n          this.widgetOptions.fieldHtmlClass = addClasses(\n            this.widgetOptions.fieldHtmlClass, this.options.style || 'btn-default')\n          this.options.icon = 'glyphicon glyphicon-plus'\n          break\n        // Default - including regular inputs\n        default:\n          this.widgetOptions.fieldHtmlClass = addClasses(\n            this.widgetOptions.fieldHtmlClass, 'form-control')\n      }\n\n      if (this.formControl) {\n        this.updateHelpBlock(this.formControl.status)\n        this.formControl.statusChanges.subscribe(status => this.updateHelpBlock(status))\n\n        if (this.options.debug) {\n          const vars: any[] = []\n          this.debugOutput = _.map(vars, thisVar => JSON.stringify(thisVar, null, 2)).join('\\n')\n        }\n      }\n      this.frameworkInitialized = true\n    }\n\n  }\n\n  updateHelpBlock(status) {\n    this.options.helpBlock = status === 'INVALID' &&\n    this.options.enableErrorState && this.formControl.errors &&\n    (this.formControl.dirty || this.options.feedbackOnRender) ?\n      this.jsf.formatErrors(this.formControl.errors, this.options.validationMessages) :\n      this.options.description || this.options.help || null\n  }\n\n  setTitle(): string {\n    switch (this.layoutNode.type) {\n      case 'button':\n      case 'checkbox':\n      case 'section':\n      case 'help':\n      case 'msg':\n      case 'submit':\n      case 'message':\n      case 'tabarray':\n      case 'tabs':\n      case '$ref':\n        return null\n      case 'advancedfieldset':\n        this.widgetOptions.expandable = true\n        this.widgetOptions.title = 'Advanced options'\n        return null\n      case 'authfieldset':\n        this.widgetOptions.expandable = true\n        this.widgetOptions.title = 'Authentication settings'\n        return null\n      case 'fieldset':\n        this.widgetOptions.title = this.options.title\n        return null\n      default:\n        this.widgetOptions.title = null\n        return this.jsf.setItemTitle(this)\n    }\n  }\n\n  removeItem() {\n    this.jsf.removeItem(this)\n  }\n}\n","import {Injectable} from '@angular/core'\nimport {Framework} from '@ngsf/common'\n// Bootstrap 4 Framework\n// https://github.com/ng-bootstrap/ng-bootstrap\nimport {Bootstrap4FrameworkComponent} from './bootstrap4-framework.component'\n\n@Injectable()\nexport class Bootstrap4Framework extends Framework {\n  name = 'bootstrap-4'\n\n  framework = Bootstrap4FrameworkComponent\n\n  stylesheets = [\n    '//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css'\n  ]\n\n  scripts = [\n    '//code.jquery.com/jquery-3.2.1.slim.min.js',\n    '//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js',\n    '//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js',\n  ]\n}\n","import {ModuleWithProviders, NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {WidgetLibraryModule} from '@ngsf/widget-library'\nimport {Framework} from '@ngsf/common'\nimport {Bootstrap4FrameworkComponent} from './bootstrap4-framework.component'\nimport {Bootstrap4Framework} from './bootstrap4-framework'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    WidgetLibraryModule\n  ],\n  declarations: [Bootstrap4FrameworkComponent],\n  exports: [Bootstrap4FrameworkComponent],\n  entryComponents: [Bootstrap4FrameworkComponent]\n})\nexport class Bootstrap4FrameworkModule {\n  static forRoot(): ModuleWithProviders<Bootstrap4FrameworkModule> {\n    return {\n      ngModule: Bootstrap4FrameworkModule,\n      providers: [\n        {\n          provide: Framework,\n          useClass: Bootstrap4Framework,\n          multi: true\n        }\n      ]\n    }\n  }\n}\n"],"names":["_.cloneDeep","inArray","addClasses","_.map","ChangeDetectorRef","JsonSchemaFormService","Input","Component","Injectable","Framework","NgModule","CommonModule","WidgetLibraryModule"],"mappings":"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"}